{"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/swiftsafeui\/swiftuicore\/view\/safeonchange(of:initial:_:)-67u4j"]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"identifier":{"url":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/View\/safeOnChange(of:initial:_:)-67u4j","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI","doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SafeModifiers"]]},"sections":[],"seeAlsoSections":[{"identifiers":["doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/View\/safeFocusable(_:)","doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/View\/safeOnChange(of:initial:_:)-35ola"],"anchor":"Input--Event-Modifiers","generated":true,"title":"Input & Event Modifiers"}],"primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"tokens":[{"text":"@","kind":"attribute"},{"preciseIdentifier":"s:7SwiftUI11ViewBuilderV","text":"ViewBuilder","kind":"attribute"},{"text":" ","kind":"text"},{"text":"nonisolated","kind":"attribute"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"safeOnChange","kind":"identifier"},{"text":"<","kind":"text"},{"text":"Value","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"of","kind":"externalParam"},{"text":" ","kind":"text"},{"text":"value","kind":"internalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:7SwiftUI4ViewP0a4SafeB0E12safeOnChange2of7initial_Qrqd___Sbyqd___qd__tctSQRd__lFQO5Valueqd__mfp","text":"Value","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"initial","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Sb","text":"Bool","kind":"typeIdentifier"},{"text":" = false, ","kind":"text"},{"text":"_","kind":"externalParam"},{"text":" ","kind":"text"},{"text":"action","kind":"internalParam"},{"text":": ","kind":"text"},{"text":"@escaping","kind":"attribute"},{"text":" (","kind":"text"},{"preciseIdentifier":"s:7SwiftUI4ViewP0a4SafeB0E12safeOnChange2of7initial_Qrqd___Sbyqd___qd__tctSQRd__lFQO5Valueqd__mfp","text":"Value","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"preciseIdentifier":"s:7SwiftUI4ViewP0a4SafeB0E12safeOnChange2of7initial_Qrqd___Sbyqd___qd__tctSQRd__lFQO5Valueqd__mfp","text":"Value","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"preciseIdentifier":"s:s4Voida","text":"Void","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"some","kind":"keyword"},{"text":" ","kind":"text"},{"preciseIdentifier":"s:7SwiftUI4ViewP","text":"View","kind":"typeIdentifier"},{"text":" ","kind":"text"},{"text":"where","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Value","kind":"typeIdentifier"},{"text":" : ","kind":"text"},{"preciseIdentifier":"s:SQ","text":"Equatable","kind":"typeIdentifier"},{"text":"\n","kind":"text"}],"platforms":["macOS"]}]},{"parameters":[{"name":"value","content":[{"inlineContent":[{"text":"The value to check against when determining whether to run the closure.","type":"text"}],"type":"paragraph"}]},{"name":"initial","content":[{"inlineContent":[{"type":"text","text":"Whether the action should be run when this view initially appears."}],"type":"paragraph"}]},{"name":"action","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A closure to run when the value changes."}]}]}],"kind":"parameters"},{"kind":"content","content":[{"type":"heading","text":"Return Value","anchor":"return-value","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"A view that fires an action when the specified value changes."}]}]},{"kind":"content","content":[{"level":2,"type":"heading","text":"Discussion","anchor":"discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This method ensures compatibility across OS versions:"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"On "},{"type":"strong","inlineContent":[{"type":"text","text":"iOS 17, iPadOS 17, macOS 14"}]},{"type":"text","text":", and later, it utilizes the new "},{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/onchange(of:initial:_:)-4psgg","type":"reference","isActive":true},{"text":" method.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"On earlier versions, it falls back to the "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/onchange(of:perform:)","isActive":true},{"type":"text","text":" method."}],"type":"paragraph"}]}]},{"level":2,"text":"Apple Discussion","type":"heading","anchor":"Apple-Discussion"},{"type":"paragraph","inlineContent":[{"text":"You can use ","type":"text"},{"code":"safeOnChange","type":"codeVoice"},{"text":" to trigger a side effect as the result of a value changing, such as an ","type":"text"},{"code":"Environment","type":"codeVoice"},{"text":" key or a ","type":"text"},{"code":"Binding","type":"codeVoice"},{"text":".","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"The system may call the action closure on the main actor, so avoid long-running tasks in the closure. If you need to perform such tasks, detach an asynchronous background task.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"When the value changes, the new version of the closure will be called, so any captured values will have their values from the time that the observed value has its new value. The old and new observed values are passed into the closure."}]},{"level":2,"text":"Example","type":"heading","anchor":"Example"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In the following code example, "},{"code":"PlayerView","type":"codeVoice"},{"type":"text","text":" passes both the old and new values to the model."}]},{"syntax":"swift","type":"codeListing","code":["struct PlayerView: View {","    var episode: Episode","    @State private var playState: PlayState = .paused","","    var body: some View {","        VStack {","            Text(episode.title)","            Text(episode.showTitle)","            PlayButton(playState: $playState)","        }","        .onChange(of: playState) { oldState, newState in","            model.playStateDidChange(from: oldState, to: newState)","        }","    }","}"]},{"name":"Important","style":"important","type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"This modifier requires ","type":"text"},{"inlineContent":[{"type":"text","text":"iOS 14, iPadOS 14 , and macOS 11"}],"type":"strong"},{"text":" or later.","type":"text"}]}]}]}],"metadata":{"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"safeOnChange","kind":"identifier"},{"text":"<","kind":"text"},{"text":"Value","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"of","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Value","kind":"typeIdentifier","preciseIdentifier":"s:7SwiftUI4ViewP0a4SafeB0E12safeOnChange2of7initial_Qrqd___Sbyqd___qd__tctSQRd__lFQO5Valueqd__mfp"},{"text":", ","kind":"text"},{"text":"initial","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Bool","kind":"typeIdentifier","preciseIdentifier":"s:Sb"},{"text":", (","kind":"text"},{"text":"Value","kind":"typeIdentifier","preciseIdentifier":"s:7SwiftUI4ViewP0a4SafeB0E12safeOnChange2of7initial_Qrqd___Sbyqd___qd__tctSQRd__lFQO5Valueqd__mfp"},{"text":", ","kind":"text"},{"text":"Value","kind":"typeIdentifier","preciseIdentifier":"s:7SwiftUI4ViewP0a4SafeB0E12safeOnChange2of7initial_Qrqd___Sbyqd___qd__tctSQRd__lFQO5Valueqd__mfp"},{"text":") -> ","kind":"text"},{"text":"Void","kind":"typeIdentifier","preciseIdentifier":"s:s4Voida"},{"text":") -> ","kind":"text"},{"text":"some","kind":"keyword"},{"text":" ","kind":"text"},{"text":"View","kind":"typeIdentifier","preciseIdentifier":"s:7SwiftUI4ViewP"}],"platforms":[{"introducedAt":"14.0","beta":false,"unavailable":false,"deprecated":false,"name":"iOS"},{"introducedAt":"11.0","beta":false,"unavailable":false,"deprecated":false,"name":"macOS"}],"role":"symbol","conformance":{"conformancePrefix":[{"text":"Conforms when","type":"text"}],"constraints":[{"code":"Self","type":"codeVoice"},{"text":" is ","type":"text"},{"code":"View","type":"codeVoice"},{"text":".","type":"text"}],"availabilityPrefix":[{"text":"Available when","type":"text"}]},"modules":[{"name":"SwiftSafeUI","relatedModules":["SwiftUICore"]}],"externalID":"s:7SwiftUI4ViewP0a4SafeB0E12safeOnChange2of7initial_Qrqd___Sbyqd___qd__tctSQRd__lF","symbolKind":"method","title":"safeOnChange(of:initial:_:)","extendedModule":"SwiftUICore","roleHeading":"Instance Method"},"abstract":[{"type":"text","text":"Adds a modifier for this view that fires an action when a specific value changes."}],"kind":"symbol","references":{"SwiftSafeUI-Icon.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/swiftsafeui.SwiftSafeUI\/SwiftSafeUI-Icon.png"}],"type":"image","identifier":"SwiftSafeUI-Icon.png","alt":"A technology icon representing the SwiftSafeUI framework."},"https://developer.apple.com/documentation/swiftui/view/onchange(of:perform:)":{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/onchange(of:perform:)","type":"link","url":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/onchange(of:perform:)","titleInlineContent":[{"code":"onChange(of:perform:)","type":"codeVoice"}],"title":"onChange(of:perform:)"},"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI/SwiftUICore/View/safeOnChange(of:initial:_:)-35ola":{"conformance":{"availabilityPrefix":[{"type":"text","text":"Available when"}],"constraints":[{"type":"codeVoice","code":"Self"},{"type":"text","text":" is "},{"type":"codeVoice","code":"View"},{"type":"text","text":"."}],"conformancePrefix":[{"type":"text","text":"Conforms when"}]},"type":"topic","kind":"symbol","identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/View\/safeOnChange(of:initial:_:)-35ola","url":"\/documentation\/swiftsafeui\/swiftuicore\/view\/safeonchange(of:initial:_:)-35ola","title":"safeOnChange(of:initial:_:)","abstract":[{"type":"text","text":"Adds a modifier for this view that fires an action when a specific value changes."}],"role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"safeOnChange"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"Value"},{"kind":"text","text":">("},{"kind":"externalParam","text":"of"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Value","preciseIdentifier":"s:7SwiftUI4ViewP0a4SafeB0E12safeOnChange2of7initial_Qrqd___SbyyctSQRd__lFQO5Valueqd__mfp"},{"kind":"text","text":", "},{"kind":"externalParam","text":"initial"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", () -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":") -> "},{"kind":"keyword","text":"some"},{"kind":"text","text":" "},{"kind":"typeIdentifier","text":"View","preciseIdentifier":"s:7SwiftUI4ViewP"}]},"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI/SafeModifiers":{"kind":"article","abstract":[{"type":"text","text":"Ensures compatibility for "},{"type":"codeVoice","code":"SwiftUI"},{"type":"text","text":" modifiers across different OS versions."}],"title":"SafeModifiers","type":"topic","role":"collectionGroup","identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SafeModifiers","url":"\/documentation\/swiftsafeui\/safemodifiers"},"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI/SwiftUICore/View/safeOnChange(of:initial:_:)-67u4j":{"conformance":{"availabilityPrefix":[{"text":"Available when","type":"text"}],"constraints":[{"type":"codeVoice","code":"Self"},{"text":" is ","type":"text"},{"type":"codeVoice","code":"View"},{"text":".","type":"text"}],"conformancePrefix":[{"text":"Conforms when","type":"text"}]},"type":"topic","kind":"symbol","identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/View\/safeOnChange(of:initial:_:)-67u4j","title":"safeOnChange(of:initial:_:)","url":"\/documentation\/swiftsafeui\/swiftuicore\/view\/safeonchange(of:initial:_:)-67u4j","abstract":[{"type":"text","text":"Adds a modifier for this view that fires an action when a specific value changes."}],"role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"safeOnChange"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"Value"},{"kind":"text","text":">("},{"kind":"externalParam","text":"of"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Value","preciseIdentifier":"s:7SwiftUI4ViewP0a4SafeB0E12safeOnChange2of7initial_Qrqd___Sbyqd___qd__tctSQRd__lFQO5Valueqd__mfp"},{"kind":"text","text":", "},{"kind":"externalParam","text":"initial"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", ("},{"kind":"typeIdentifier","text":"Value","preciseIdentifier":"s:7SwiftUI4ViewP0a4SafeB0E12safeOnChange2of7initial_Qrqd___Sbyqd___qd__tctSQRd__lFQO5Valueqd__mfp"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Value","preciseIdentifier":"s:7SwiftUI4ViewP0a4SafeB0E12safeOnChange2of7initial_Qrqd___Sbyqd___qd__tctSQRd__lFQO5Valueqd__mfp"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":") -> "},{"kind":"keyword","text":"some"},{"kind":"text","text":" "},{"kind":"typeIdentifier","text":"View","preciseIdentifier":"s:7SwiftUI4ViewP"}]},"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI/SwiftUICore/View/safeFocusable(_:)":{"conformance":{"availabilityPrefix":[{"text":"Available when","type":"text"}],"constraints":[{"type":"codeVoice","code":"Self"},{"text":" is ","type":"text"},{"type":"codeVoice","code":"View"},{"text":".","type":"text"}],"conformancePrefix":[{"text":"Conforms when","type":"text"}]},"type":"topic","kind":"symbol","identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/View\/safeFocusable(_:)","title":"safeFocusable(_:)","url":"\/documentation\/swiftsafeui\/swiftuicore\/view\/safefocusable(_:)","abstract":[{"text":"Specifies if the view is focusable.","type":"text"}],"role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"safeFocusable"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":") -> "},{"kind":"keyword","text":"some"},{"kind":"text","text":" "},{"kind":"typeIdentifier","text":"View","preciseIdentifier":"s:7SwiftUI4ViewP"}]},"https://developer.apple.com/documentation/swiftui/view/onchange(of:initial:_:)-4psgg":{"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/onchange(of:initial:_:)-4psgg","title":"onChange(of:initial:_:)","titleInlineContent":[{"type":"codeVoice","code":"onChange(of:initial:_:)"}],"url":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/onchange(of:initial:_:)-4psgg"},"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI":{"abstract":[{"text":"Encapsulates deprecation handling logic, ensuring compatibility across different OS versions.","type":"text"}],"url":"\/documentation\/swiftsafeui","type":"topic","identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI","title":"SwiftSafeUI","images":[{"identifier":"SwiftSafeUI-Icon.png","type":"icon"}],"role":"collection","kind":"symbol"}}}