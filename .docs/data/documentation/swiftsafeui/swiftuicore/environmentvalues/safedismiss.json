{"hierarchy":{"paths":[["doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI","doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SafeEnvironmentValues"]]},"seeAlsoSections":[{"generated":true,"identifiers":["doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/EnvironmentValues\/safeIsPresented"]}],"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"text":"@","kind":"attribute"},{"preciseIdentifier":"s:ScM","text":"MainActor","kind":"attribute"},{"kind":"text","text":" "},{"text":"var","kind":"keyword"},{"kind":"text","text":" "},{"text":"safeDismiss","kind":"identifier"},{"text":": () -> ","kind":"text"},{"preciseIdentifier":"s:s4Voida","text":"Void","kind":"typeIdentifier"},{"text":" { ","kind":"text"},{"kind":"keyword","text":"get"},{"kind":"text","text":" }"}],"languages":["swift"],"platforms":["iOS"]}]},{"content":[{"level":2,"anchor":"discussion","type":"heading","text":"Discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This environment value ensures compatibility across OS versions:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"On iOS 15 and later, it uses the new "},{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/dismiss","isActive":true,"type":"reference"},{"type":"text","text":" method."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"On earlier versions, it falls back to the ","type":"text"},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/presentationmode"},{"type":"text","text":" environment value dismiss method."}]}]}]},{"text":"Apple Discussion","anchor":"Apple-Discussion","level":2,"type":"heading"},{"inlineContent":[{"text":"Use this environment value to get the dismiss action instance for the current ","type":"text"},{"isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environment","type":"reference"},{"text":". Then call the instance to perform the dismissal. You call the instance directly because it defines a ","type":"text"},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/dismissaction\/callasfunction()","isActive":true},{"text":" method that Swift calls when you call the instance.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"You can use this action to:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Dismiss a modal presentation, like a sheet or a popover."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Pop the current view from a "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/navigationstack","isActive":true},{"type":"text","text":"."}]}]}],"type":"unorderedList"},{"text":"Example","type":"heading","level":2,"anchor":"Example"},{"type":"paragraph","inlineContent":[{"text":"The specific behavior of the action depends on where you call it from. For example, you can create a button that calls the dismiss action inside a view that acts as a sheet:","type":"text"}]},{"type":"codeListing","code":["private struct SheetContents: View {","    @Environment(\\.safeDismiss) private var safeDismiss","","    var body: some View {","        Button(\"Done\") {","            safeDismiss()","        }","    }","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When you present the "},{"code":"SheetContents","type":"codeVoice"},{"text":" view, someone can dismiss the sheet by tapping or clicking the sheet’s button:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["private struct DetailView: View {","    @State private var isSheetPresented = false","","    var body: some View {","        Button(\"Show Sheet\") {","            isSheetPresented = true","        }","        .sheet(isPresented: $isSheetPresented) {","           SheetContents()","       }","   }","}"]},{"type":"paragraph","inlineContent":[{"text":"Be sure that you define the action in the appropriate environment. For example, don’t reorganize the ","type":"text"},{"type":"codeVoice","code":"DetailView"},{"type":"text","text":" in the example above so that it creates the dismiss property and calls it from the "},{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/sheet(item:ondismiss:content:)","type":"reference","isActive":true},{"type":"text","text":" view modifier’s content closure:"}]},{"syntax":"swift","code":["private struct DetailView: View {","    @State private var isSheetPresented = false","    @Environment(\\.safeDismiss) private var safeDismiss \/\/ Applies to DetailView.","","    var body: some View {","        Button(\"Show Sheet\") {","            isSheetPresented = true","        }","        .sheet(isPresented: $isSheetPresented) {","            Button(\"Done\") {","                safeDismiss() \/\/ Fails to dismiss the sheet.","           }","       }","    }","}"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"If you do this, the sheet fails to dismiss because the action applies to the environment where you declared it, which is that of the detail view, rather than the sheet.","type":"text"}]},{"inlineContent":[{"text":"The dismiss action has no effect on a view that isn’t currently presented. If you need to query whether SwiftUI is currently presenting a view, read the ","type":"text"},{"isActive":true,"identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/EnvironmentValues\/safeIsPresented","type":"reference"},{"text":" environment value.","type":"text"}],"type":"paragraph"}],"kind":"content"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/swiftsafeui\/swiftuicore\/environmentvalues\/safedismiss"]}],"abstract":[{"text":"An action that dismisses the current presentation.","type":"text"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/EnvironmentValues\/safeDismiss"},"sections":[],"schemaVersion":{"major":0,"minor":3,"patch":0},"kind":"symbol","metadata":{"roleHeading":"Instance Property","extendedModule":"SwiftUICore","title":"safeDismiss","modules":[{"relatedModules":["SwiftUICore"],"name":"SwiftSafeUI"}],"role":"symbol","externalID":"s:7SwiftUI17EnvironmentValuesV0a4SafeB0E11safeDismissyycvp","fragments":[{"kind":"keyword","text":"var"},{"text":" ","kind":"text"},{"kind":"identifier","text":"safeDismiss"},{"text":": () -> ","kind":"text"},{"text":"Void","kind":"typeIdentifier","preciseIdentifier":"s:s4Voida"}],"symbolKind":"property","platforms":[{"name":"iOS","unavailable":false,"beta":false,"deprecated":false,"introducedAt":"13.0"},{"name":"iPadOS","deprecated":false,"beta":false,"unavailable":false,"introducedAt":"13.0"},{"unavailable":false,"beta":false,"introducedAt":"13.0","name":"Mac Catalyst","deprecated":false}]},"references":{"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI/SwiftUICore/EnvironmentValues/safeIsPresented":{"type":"topic","abstract":[{"text":"A Boolean value that indicates whether the view associated with this environment is currently presented.","type":"text"}],"kind":"symbol","title":"safeIsPresented","url":"\/documentation\/swiftsafeui\/swiftuicore\/environmentvalues\/safeispresented","role":"symbol","fragments":[{"text":"var","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"safeIsPresented"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Sb","text":"Bool","kind":"typeIdentifier"}],"identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/EnvironmentValues\/safeIsPresented"},"https://developer.apple.com/documentation/swiftui/environmentvalues/presentationmode":{"url":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/presentationmode","type":"link","title":"presentationMode","titleInlineContent":[{"type":"codeVoice","code":"presentationMode"}],"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/presentationmode"},"https://developer.apple.com/documentation/swiftui/environmentvalues/dismiss":{"url":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/dismiss","type":"link","title":"dismiss()","titleInlineContent":[{"type":"codeVoice","code":"dismiss()"}],"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/dismiss"},"https://developer.apple.com/documentation/swiftui/environment":{"url":"https:\/\/developer.apple.com\/documentation\/swiftui\/environment","type":"link","title":"Environment","titleInlineContent":[{"type":"codeVoice","code":"Environment"}],"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environment"},"https://developer.apple.com/documentation/swiftui/dismissaction/callasfunction()":{"url":"https:\/\/developer.apple.com\/documentation\/swiftui\/dismissaction\/callasfunction()","type":"link","title":"callAsFunction()","titleInlineContent":[{"type":"codeVoice","code":"callAsFunction()"}],"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/dismissaction\/callasfunction()"},"https://developer.apple.com/documentation/swiftui/view/sheet(item:ondismiss:content:)":{"url":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/sheet(item:ondismiss:content:)","type":"link","title":"sheet(item:onDismiss:content:)","titleInlineContent":[{"type":"codeVoice","code":"sheet(item:onDismiss:content:)"}],"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/sheet(item:ondismiss:content:)"},"https://developer.apple.com/documentation/swiftui/navigationstack":{"url":"https:\/\/developer.apple.com\/documentation\/swiftui\/navigationstack","type":"link","title":"NavigationStack","titleInlineContent":[{"type":"codeVoice","code":"NavigationStack"}],"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/navigationstack"},"SwiftSafeUI-Icon.png":{"alt":"A technology icon representing the SwiftSafeUI framework.","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/swiftsafeui.SwiftSafeUI\/SwiftSafeUI-Icon.png"}],"identifier":"SwiftSafeUI-Icon.png"},"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI/SwiftUICore/EnvironmentValues/safeDismiss":{"type":"topic","kind":"symbol","url":"\/documentation\/swiftsafeui\/swiftuicore\/environmentvalues\/safedismiss","role":"symbol","title":"safeDismiss","abstract":[{"text":"An action that dismisses the current presentation.","type":"text"}],"fragments":[{"text":"var","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"safeDismiss"},{"text":": () -> ","kind":"text"},{"text":"Void","kind":"typeIdentifier","preciseIdentifier":"s:s4Voida"}],"identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/EnvironmentValues\/safeDismiss"},"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI":{"abstract":[{"type":"text","text":"Encapsulates deprecation handling logic, ensuring compatibility across different OS versions."}],"role":"collection","kind":"symbol","type":"topic","identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI","url":"\/documentation\/swiftsafeui","title":"SwiftSafeUI","images":[{"identifier":"SwiftSafeUI-Icon.png","type":"icon"}]},"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI/SafeEnvironmentValues":{"identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SafeEnvironmentValues","abstract":[{"text":"Ensures compatibility for ","type":"text"},{"type":"codeVoice","code":"SwiftUI"},{"type":"text","text":" environment values across different OS versions."}],"type":"topic","url":"\/documentation\/swiftsafeui\/safeenvironmentvalues","kind":"article","role":"collectionGroup","title":"SafeEnvironmentValues"}}}