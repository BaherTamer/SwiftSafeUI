{"sections":[],"schemaVersion":{"major":0,"minor":3,"patch":0},"seeAlsoSections":[{"identifiers":["doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/EnvironmentValues\/safeIsPresented"],"generated":true}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/swiftsafeui\/swiftuicore\/environmentvalues\/safedismiss"]}],"kind":"symbol","primaryContentSections":[{"declarations":[{"platforms":["iOS"],"tokens":[{"kind":"attribute","text":"@"},{"preciseIdentifier":"s:ScM","kind":"attribute","text":"MainActor"},{"kind":"text","text":" "},{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"safeDismiss"},{"kind":"text","text":": () -> "},{"preciseIdentifier":"s:s4Voida","kind":"typeIdentifier","text":"Void"},{"kind":"text","text":" { "},{"kind":"keyword","text":"get"},{"kind":"text","text":" }"}],"languages":["swift"]}],"kind":"declarations"},{"kind":"content","content":[{"anchor":"discussion","level":2,"type":"heading","text":"Discussion"},{"inlineContent":[{"text":"This environment value ensures compatibility across OS versions:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"On "},{"type":"strong","inlineContent":[{"type":"text","text":"iOS 15, iPadOS 15, macOS 12"}]},{"type":"text","text":", and later, it uses the new "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/dismiss"},{"type":"text","text":" method."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"On earlier versions, it falls back to the "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/presentationmode"},{"type":"text","text":" environment value dismiss method."}]}]}],"type":"unorderedList"},{"level":2,"type":"heading","anchor":"Apple-Discussion","text":"Apple Discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use this environment value to get the dismiss action instance for the current "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environment","isActive":true},{"type":"text","text":". Then call the instance to perform the dismissal. You call the instance directly because it defines a "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/dismissaction\/callasfunction()","isActive":true},{"type":"text","text":" method that Swift calls when you call the instance."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can use this action to:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Dismiss a modal presentation, like a sheet or a popover.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Pop the current view from a "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/navigationstack","isActive":true},{"type":"text","text":"."}],"type":"paragraph"}]}]},{"type":"heading","level":2,"anchor":"Example","text":"Example"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The specific behavior of the action depends on where you call it from. For example, you can create a button that calls the dismiss action inside a view that acts as a sheet:"}]},{"type":"codeListing","syntax":"swift","code":["private struct SheetContents: View {","    @Environment(\\.safeDismiss) private var safeDismiss","","    var body: some View {","        Button(\"Done\") {","            safeDismiss()","        }","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"When you present the "},{"type":"codeVoice","code":"SheetContents"},{"type":"text","text":" view, someone can dismiss the sheet by tapping or clicking the sheet’s button:"}]},{"code":["private struct DetailView: View {","    @State private var isSheetPresented = false","","    var body: some View {","        Button(\"Show Sheet\") {","            isSheetPresented = true","        }","        .sheet(isPresented: $isSheetPresented) {","           SheetContents()","       }","   }","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"Be sure that you define the action in the appropriate environment. For example, don’t reorganize the ","type":"text"},{"type":"codeVoice","code":"DetailView"},{"text":" in the example above so that it creates the dismiss property and calls it from the ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/sheet(item:ondismiss:content:)","isActive":true,"type":"reference"},{"text":" view modifier’s content closure:","type":"text"}]},{"code":["private struct DetailView: View {","    @State private var isSheetPresented = false","    @Environment(\\.safeDismiss) private var safeDismiss \/\/ Applies to DetailView.","","    var body: some View {","        Button(\"Show Sheet\") {","            isSheetPresented = true","        }","        .sheet(isPresented: $isSheetPresented) {","            Button(\"Done\") {","                safeDismiss() \/\/ Fails to dismiss the sheet.","           }","       }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you do this, the sheet fails to dismiss because the action applies to the environment where you declared it, which is that of the detail view, rather than the sheet."}]},{"type":"paragraph","inlineContent":[{"text":"The dismiss action has no effect on a view that isn’t currently presented. If you need to query whether SwiftUI is currently presenting a view, read the ","type":"text"},{"isActive":true,"identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/EnvironmentValues\/safeIsPresented","type":"reference"},{"text":" environment value.","type":"text"}]}]}],"metadata":{"modules":[{"name":"SwiftSafeUI","relatedModules":["SwiftUICore"]}],"roleHeading":"Instance Property","role":"symbol","externalID":"s:7SwiftUI17EnvironmentValuesV0a4SafeB0E11safeDismissyycvp","title":"safeDismiss","platforms":[{"introducedAt":"13.0","name":"iOS","deprecated":false,"unavailable":false,"beta":false},{"introducedAt":"13.0","name":"iPadOS","deprecated":false,"unavailable":false,"beta":false},{"introducedAt":"13.0","name":"Mac Catalyst","deprecated":false,"unavailable":false,"beta":false},{"introducedAt":"10.15","name":"macOS","deprecated":false,"unavailable":false,"beta":false}],"extendedModule":"SwiftUICore","symbolKind":"property","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"safeDismiss"},{"kind":"text","text":": () -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:s4Voida","text":"Void"}]},"identifier":{"url":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/EnvironmentValues\/safeDismiss","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI","doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SafeEnvironmentValues"]]},"abstract":[{"type":"text","text":"An action that dismisses the current presentation."}],"references":{"https://developer.apple.com/documentation/swiftui/navigationstack":{"title":"NavigationStack","type":"link","titleInlineContent":[{"type":"codeVoice","code":"NavigationStack"}],"url":"https:\/\/developer.apple.com\/documentation\/swiftui\/navigationstack","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/navigationstack"},"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI/SwiftUICore/EnvironmentValues/safeDismiss":{"kind":"symbol","abstract":[{"type":"text","text":"An action that dismisses the current presentation."}],"url":"\/documentation\/swiftsafeui\/swiftuicore\/environmentvalues\/safedismiss","title":"safeDismiss","type":"topic","role":"symbol","identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/EnvironmentValues\/safeDismiss","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"safeDismiss","kind":"identifier"},{"text":": () -> ","kind":"text"},{"text":"Void","preciseIdentifier":"s:s4Voida","kind":"typeIdentifier"}]},"https://developer.apple.com/documentation/swiftui/environmentvalues/presentationmode":{"title":"presentationMode","titleInlineContent":[{"code":"presentationMode","type":"codeVoice"}],"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/presentationmode","type":"link","url":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/presentationmode"},"https://developer.apple.com/documentation/swiftui/dismissaction/callasfunction()":{"url":"https:\/\/developer.apple.com\/documentation\/swiftui\/dismissaction\/callasfunction()","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/dismissaction\/callasfunction()","type":"link","title":"callAsFunction()","titleInlineContent":[{"type":"codeVoice","code":"callAsFunction()"}]},"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI":{"identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI","role":"collection","kind":"symbol","title":"SwiftSafeUI","type":"topic","abstract":[{"type":"text","text":"Encapsulates deprecation handling logic, ensuring compatibility across different OS versions."}],"images":[{"identifier":"SwiftSafeUI-Icon.png","type":"icon"}],"url":"\/documentation\/swiftsafeui"},"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI/SwiftUICore/EnvironmentValues/safeIsPresented":{"kind":"symbol","abstract":[{"type":"text","text":"A Boolean value that indicates whether the view associated with this environment is currently presented."}],"url":"\/documentation\/swiftsafeui\/swiftuicore\/environmentvalues\/safeispresented","title":"safeIsPresented","type":"topic","role":"symbol","identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/EnvironmentValues\/safeIsPresented","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"safeIsPresented","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Bool","preciseIdentifier":"s:Sb","kind":"typeIdentifier"}]},"SwiftSafeUI-Icon.png":{"identifier":"SwiftSafeUI-Icon.png","variants":[{"traits":["1x","light"],"url":"\/images\/swiftsafeui.SwiftSafeUI\/SwiftSafeUI-Icon.png"}],"alt":"A technology icon representing the SwiftSafeUI framework.","type":"image"},"https://developer.apple.com/documentation/swiftui/environment":{"title":"Environment","type":"link","titleInlineContent":[{"code":"Environment","type":"codeVoice"}],"url":"https:\/\/developer.apple.com\/documentation\/swiftui\/environment","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environment"},"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI/SafeEnvironmentValues":{"type":"topic","kind":"article","role":"collectionGroup","url":"\/documentation\/swiftsafeui\/safeenvironmentvalues","identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SafeEnvironmentValues","abstract":[{"type":"text","text":"Ensures compatibility for "},{"type":"codeVoice","code":"SwiftUI"},{"type":"text","text":" environment values across different OS versions."}],"title":"SafeEnvironmentValues"},"https://developer.apple.com/documentation/swiftui/view/sheet(item:ondismiss:content:)":{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/sheet(item:ondismiss:content:)","url":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/sheet(item:ondismiss:content:)","title":"sheet(item:onDismiss:content:)","titleInlineContent":[{"type":"codeVoice","code":"sheet(item:onDismiss:content:)"}],"type":"link"},"https://developer.apple.com/documentation/swiftui/environmentvalues/dismiss":{"title":"dismiss()","titleInlineContent":[{"type":"codeVoice","code":"dismiss()"}],"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/dismiss","type":"link","url":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/dismiss"}}}