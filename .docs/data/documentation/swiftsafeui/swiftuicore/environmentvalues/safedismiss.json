{"metadata":{"role":"symbol","title":"safeDismiss","platforms":[{"name":"iOS","introducedAt":"13.0","deprecated":false,"beta":false,"unavailable":false},{"name":"iPadOS","introducedAt":"13.0","deprecated":false,"beta":false,"unavailable":false},{"name":"Mac Catalyst","introducedAt":"13.0","deprecated":false,"beta":false,"unavailable":false},{"name":"macOS","introducedAt":"10.15","deprecated":false,"beta":false,"unavailable":false}],"externalID":"s:7SwiftUI17EnvironmentValuesV0a4SafeB0E11safeDismissyycvp","roleHeading":"Instance Property","symbolKind":"property","modules":[{"name":"SwiftSafeUI","relatedModules":["SwiftUICore"]}],"extendedModule":"SwiftUICore","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"safeDismiss"},{"kind":"text","text":": () -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"}]},"abstract":[{"type":"text","text":"An action that dismisses the current presentation."}],"hierarchy":{"paths":[["doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI","doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SafeEnvironmentValues"]]},"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["iOS"],"languages":["swift"],"tokens":[{"text":"@","kind":"attribute"},{"text":"MainActor","kind":"attribute","preciseIdentifier":"s:ScM"},{"text":" ","kind":"text"},{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"safeDismiss","kind":"identifier"},{"text":": () -> ","kind":"text"},{"text":"Void","kind":"typeIdentifier","preciseIdentifier":"s:s4Voida"},{"text":" { ","kind":"text"},{"text":"get","kind":"keyword"},{"text":" }","kind":"text"}]}]},{"content":[{"text":"Discussion","type":"heading","level":2,"anchor":"discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This environment value ensures compatibility across OS versions:"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"On ","type":"text"},{"inlineContent":[{"text":"iOS 15, iPadOS 15, macOS 12","type":"text"}],"type":"strong"},{"text":", and later, it uses the new ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/dismiss","isActive":true,"type":"reference"},{"text":" method.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"On earlier versions, it falls back to the ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/presentationmode","isActive":true,"type":"reference"},{"text":" environment value dismiss method.","type":"text"}]}]}],"type":"unorderedList"},{"text":"Apple Discussion","type":"heading","level":2,"anchor":"Apple-Discussion"},{"type":"paragraph","inlineContent":[{"text":"Use this environment value to get the dismiss action instance for the current ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environment","type":"reference","isActive":true},{"text":". Then call the instance to perform the dismissal. You call the instance directly because it defines a ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/dismissaction\/callasfunction()","type":"reference","isActive":true},{"text":" method that Swift calls when you call the instance.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"You can use this action to:","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"text":"Dismiss a modal presentation, like a sheet or a popover.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Pop the current view from a "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/navigationstack"},{"type":"text","text":"."}],"type":"paragraph"}]}],"type":"unorderedList"},{"text":"Example","type":"heading","level":2,"anchor":"Example"},{"type":"paragraph","inlineContent":[{"text":"The specific behavior of the action depends on where you call it from. For example, you can create a button that calls the dismiss action inside a view that acts as a sheet:","type":"text"}]},{"code":["private struct SheetContents: View {","    @Environment(\\.safeDismiss) private var safeDismiss","","    var body: some View {","        Button(\"Done\") {","            safeDismiss()","        }","    }","}"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"When you present the ","type":"text"},{"type":"codeVoice","code":"SheetContents"},{"text":" view, someone can dismiss the sheet by tapping or clicking the sheet’s button:","type":"text"}]},{"code":["private struct DetailView: View {","    @State private var isSheetPresented = false","","    var body: some View {","        Button(\"Show Sheet\") {","            isSheetPresented = true","        }","        .sheet(isPresented: $isSheetPresented) {","           SheetContents()","       }","   }","}"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Be sure that you define the action in the appropriate environment. For example, don’t reorganize the "},{"type":"codeVoice","code":"DetailView"},{"text":" in the example above so that it creates the dismiss property and calls it from the ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/sheet(item:ondismiss:content:)","type":"reference","isActive":true},{"text":" view modifier’s content closure:","type":"text"}]},{"code":["private struct DetailView: View {","    @State private var isSheetPresented = false","    @Environment(\\.safeDismiss) private var safeDismiss \/\/ Applies to DetailView.","","    var body: some View {","        Button(\"Show Sheet\") {","            isSheetPresented = true","        }","        .sheet(isPresented: $isSheetPresented) {","            Button(\"Done\") {","                safeDismiss() \/\/ Fails to dismiss the sheet.","           }","       }","    }","}"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you do this, the sheet fails to dismiss because the action applies to the environment where you declared it, which is that of the detail view, rather than the sheet."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The dismiss action has no effect on a view that isn’t currently presented. If you need to query whether SwiftUI is currently presenting a view, read the "},{"type":"reference","identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/EnvironmentValues\/safeIsPresented","isActive":true},{"type":"text","text":" environment value."}]}],"kind":"content"}],"sections":[],"schemaVersion":{"patch":0,"major":0,"minor":3},"variants":[{"paths":["\/documentation\/swiftsafeui\/swiftuicore\/environmentvalues\/safedismiss"],"traits":[{"interfaceLanguage":"swift"}]}],"seeAlsoSections":[{"identifiers":["doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/EnvironmentValues\/safeIsPresented"],"generated":true}],"kind":"symbol","identifier":{"url":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/EnvironmentValues\/safeDismiss","interfaceLanguage":"swift"},"references":{"https://developer.apple.com/documentation/swiftui/environmentvalues/dismiss":{"type":"link","title":"dismiss()","titleInlineContent":[{"type":"codeVoice","code":"dismiss()"}],"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/dismiss","url":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/dismiss"},"https://developer.apple.com/documentation/swiftui/dismissaction/callasfunction()":{"type":"link","title":"callAsFunction()","titleInlineContent":[{"code":"callAsFunction()","type":"codeVoice"}],"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/dismissaction\/callasfunction()","url":"https:\/\/developer.apple.com\/documentation\/swiftui\/dismissaction\/callasfunction()"},"SwiftSafeUI-Icon.png":{"type":"image","alt":"A technology icon representing the SwiftSafeUI framework.","variants":[{"url":"\/images\/swiftsafeui.SwiftSafeUI\/SwiftSafeUI-Icon.png","traits":["1x","light"]}],"identifier":"SwiftSafeUI-Icon.png"},"https://developer.apple.com/documentation/swiftui/environment":{"type":"link","title":"Environment","titleInlineContent":[{"code":"Environment","type":"codeVoice"}],"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environment","url":"https:\/\/developer.apple.com\/documentation\/swiftui\/environment"},"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI/SafeEnvironmentValues":{"title":"SafeEnvironmentValues","identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SafeEnvironmentValues","abstract":[{"type":"text","text":"Ensures compatibility for "},{"type":"codeVoice","code":"SwiftUI"},{"type":"text","text":" environment values across different OS versions."}],"type":"topic","role":"collectionGroup","url":"\/documentation\/swiftsafeui\/safeenvironmentvalues","kind":"article"},"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI":{"url":"\/documentation\/swiftsafeui","title":"SwiftSafeUI","images":[{"type":"icon","identifier":"SwiftSafeUI-Icon.png"}],"identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI","role":"collection","kind":"symbol","abstract":[{"text":"Encapsulates deprecation handling logic, ensuring compatibility across different OS versions.","type":"text"}],"type":"topic"},"https://developer.apple.com/documentation/swiftui/view/sheet(item:ondismiss:content:)":{"type":"link","title":"sheet(item:onDismiss:content:)","titleInlineContent":[{"code":"sheet(item:onDismiss:content:)","type":"codeVoice"}],"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/sheet(item:ondismiss:content:)","url":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/sheet(item:ondismiss:content:)"},"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI/SwiftUICore/EnvironmentValues/safeIsPresented":{"title":"safeIsPresented","role":"symbol","identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/EnvironmentValues\/safeIsPresented","url":"\/documentation\/swiftsafeui\/swiftuicore\/environmentvalues\/safeispresented","kind":"symbol","abstract":[{"type":"text","text":"A Boolean value that indicates whether the view associated with this environment is currently presented."}],"type":"topic","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"safeIsPresented","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Bool","kind":"typeIdentifier","preciseIdentifier":"s:Sb"}]},"doc://swiftsafeui.SwiftSafeUI/documentation/SwiftSafeUI/SwiftUICore/EnvironmentValues/safeDismiss":{"title":"safeDismiss","identifier":"doc:\/\/swiftsafeui.SwiftSafeUI\/documentation\/SwiftSafeUI\/SwiftUICore\/EnvironmentValues\/safeDismiss","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"safeDismiss","kind":"identifier"},{"text":": () -> ","kind":"text"},{"text":"Void","kind":"typeIdentifier","preciseIdentifier":"s:s4Voida"}],"abstract":[{"text":"An action that dismisses the current presentation.","type":"text"}],"type":"topic","role":"symbol","url":"\/documentation\/swiftsafeui\/swiftuicore\/environmentvalues\/safedismiss","kind":"symbol"},"https://developer.apple.com/documentation/swiftui/environmentvalues/presentationmode":{"type":"link","title":"presentationMode","titleInlineContent":[{"code":"presentationMode","type":"codeVoice"}],"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/presentationmode","url":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentvalues\/presentationmode"},"https://developer.apple.com/documentation/swiftui/navigationstack":{"type":"link","title":"NavigationStack","titleInlineContent":[{"code":"NavigationStack","type":"codeVoice"}],"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/navigationstack","url":"https:\/\/developer.apple.com\/documentation\/swiftui\/navigationstack"}}}